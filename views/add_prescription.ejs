<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Become a Volunteer Form</title>
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css2?family=Newsreader:wght@400&display=swap" rel="stylesheet" type="text/css">
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="/css/styles.css" rel="stylesheet" />
        <link href="/css/ourStyles.css" rel="stylesheet" />
        <link rel="icon" type="image/x-icon" href="/assets/favicon.png" />
        <style>
            /* Apply white background to both html and body */
            html, body {
                background-color: #FBFAF7;
                margin: 0;
                padding: 0;
            }
        
            footer {
                background-color: #393939;
                text-align: center;
                padding: 10px 0;
            }
        
            select option {
                color: lightgray;
            }
        
            select {
                color: gray; /* Ensures the text color for select dropdown is gray */
            }
        
            header h1 {
                text-align: center;
                color: #393939;
                background-color: #FBFAF7;
            }
        
            .form-container {
                max-width: 800px;
                margin: 20px auto;
                padding: 20px;
                background-color: #F9F3E5;
                border-radius: 8px;
                /* box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); */
            }
        
            .form-container h2 {
                text-align: center;
                color: #393939;
            }
        
            form label {
                display: block;
                margin: 8px 0;
                color: #393939;
                padding: 0;
                font-weight: 100;
            }
        
            form input, form select {
                width: 100%;
                padding: 8px;
                margin-bottom: 10px;
                border-radius: 4px;
                border: 1px solid #ddd;
                background-color: white;
            }
        
            form button {
                width: 100%;
                padding: 10px;
                background-color: #393939;
                color: white;
                border: none;
                border-radius: 4px;
                font-size: 16px;
                cursor: pointer;
            }
        
            form button:hover {
                background-color: #555;
            }
            form select {
                width: 100%;
                padding: 8px;
                margin: 0; /* Ensure no margin is added around the select elements */
                border-radius: 4px;
                border: 1px solid #ddd;
                background-color: white;
            }
            form input, form select, form textarea, form button {
            margin: 0;
            padding: 8px;
            }



        </style>        
    </head>
    <body>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light" id="mainNav" style="position: fixed; width: 100%; z-index: 100; background-color: #1F2B3D; border-bottom: .5px solid #FBFAF7">
            <div class="container px-4 px-lg-5">
                <a class="navbar-brand" href="/" style="font-weight: 100;">
                    <img src="assets/favicon.png" alt="Logo" style="height: 40px; margin-right: 10px;">
                    PILL POINT
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto py-4 py-lg-0">
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="/medicine_cabinet">Medicine Cabniet</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="/inventory_view">Patients</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="/dashboard">Return to Dashboard</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <header>
            <h1 style="background-color: #FBFAF7;">Add Prescription</h1>
        </header>

        <div class="form-container">
            <h2 style="font-size: 20px; font-weight: 100;">New Volunteer Form</h2>
            <form action="/add_prescription" method="POST">
                <label for="patient">Patient Name:</label>
                <select name="patient_id" id="patient" required>
                    <option value="" disabled selected>Select a patient</option>
                    <% patients.forEach(patient => { %>
                        <option value="<%= patient.patient_id %>"><%= patient.first_name %> <%= patient.last_name %></option>
                    <% }); %>
                </select>                
                <div>
                    <label for="medicine">Medicine Name:</label>
                    <input type="text" name="medicine_name" id="medicine" required  />
                </div>
                <div>
                    <label for="dosage">Dosage:</label>
                    <input type="text" name="dosage" id="dosage" required  />
                </div>
                <div>
                    <label for="frequency">Frequency:</label>
                    <input type="text" name="frequency" id="frequency" required  />
                </div>
                <div>
                    <label for="start_date">Start Date:</label>
                    <input type="date" name="start_date" id="start_date" required  />
                </div>
                <div>
                    <label for="end_date">End Date:</label>
                    <input type="date" name="end_date" id="end_date"  />
                </div>
                <button type="submit" style="background-color: #457DD7;" onclick="openPopup(); return false;">Submit Prescription</button>
                    <!-- The Modal -->
                <div id="customAlert" class="modal">
                    <div class="modal-content">
                        <span class="close" onclick="closePopup()">&times;</span>
                        <h2 style="font-size: 18px">New prescription successfully added!</h2>
                        <button class="btn btn-success" onclick="closePopup()">Close</button>
                    </div>
                </div>
        
                <!-- JavaScript -->
                <script>
                    // Function to open the modal
                    function openPopup() {
                        document.getElementById("customAlert").style.display = "block";
                    }
        
                    // Function to close the modal
                    function closePopup() {
                        document.getElementById("customAlert").style.display = "none";
                    }
                </script>
            </form>
        </div>

    <footer class="site-footer" style="border-top: .5px solid #FBFAF7">
        <div>
            <h5 class="text-uppercase" style="font-weight: 100;">Thank you for visiting Pill Point</h5>
            <p class="small mb-0" style="font-family: sans-serif; font-size: 10px; font-weight: 100;">
                &copy; 2024 Pill Point. All Rights Reserved.
            </p>
        </div>
        <div>
            <ul class="social-icons">
                <li><a class="facebook" href=""><i class="fab fa-facebook" style="color: #FBFAF7;"></i></a></li>
                <li><a class="linkedin" href=""><i class="fab fa-linkedin" style="color: #FBFAF7;"></i></a></li>
            </ul>
        </div>
    </footer>
    <style>
        footer.site-footer {
        position: relative;
        bottom: 0;
        left: 0;
        width: 100%;
        background-color: #1F2B3D;
        padding: 20px 0;
        text-align: center;
        color: #FBFAF7;
        font-size: 16px;
        }
        </style>
        

    </body>
</html>
